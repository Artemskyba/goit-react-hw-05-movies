"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[331],{687:function(t,r,n){n.d(r,{$0:function(){return f},Bt:function(){return p},Hq:function(){return i},Tg:function(){return s},h_:function(){return o}});var e=n(861),u=n(757),a=n.n(u),c=n(340);c.Z.defaults.baseURL="https://api.themoviedb.org/",c.Z.defaults.params={api_key:"e0f61313dcf9f8698c9430989ed8bb6d"};var s=function(){var t=(0,e.Z)(a().mark((function t(){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("3/trending/movie/day");case 2:return r=t.sent,t.abrupt("return",r.data.results);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=function(){var t=(0,e.Z)(a().mark((function t(r){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("3/search/movie?query=".concat(r));case 2:return n=t.sent,t.abrupt("return",n.data.results);case 4:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}(),o=function(){var t=(0,e.Z)(a().mark((function t(r){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("3/movie/".concat(r));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}(),f=function(){var t=(0,e.Z)(a().mark((function t(r){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("3/movie/".concat(r,"/credits"));case 2:return n=t.sent,t.abrupt("return",n.data.cast);case 4:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}(),p=function(){var t=(0,e.Z)(a().mark((function t(r){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("/3/movie/".concat(r,"/reviews"));case 2:return n=t.sent,t.abrupt("return",n.data.results);case 4:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}()},710:function(t,r,n){n.d(r,{O:function(){return c}});var e=n(689),u=n(87),a=n(184),c=function(t){var r=t.movies,n=(0,e.TH)();return(0,a.jsx)("ul",{children:r.map((function(t){var r=t.poster_path,e=t.original_title,c=t.id;return(0,a.jsx)("li",{children:(0,a.jsxs)(u.OL,{to:"/movies/".concat(c),state:{from:n},children:[(0,a.jsx)("img",{src:r?"".concat("https://image.tmdb.org/t/p/w200").concat(r):"https://shop.stryi-tur.info/wp-content/uploads/2022/11/161.jpg",alt:e}),(0,a.jsx)("p",{children:e})]})},c)}))})}},331:function(t,r,n){n.r(r),n.d(r,{default:function(){return d}});var e=n(861),u=n(439),a=n(757),c=n.n(a),s=n(687),i=n(710),o=n(705),f=n(184),p=function(t){var r=t.onSubmit;return(0,f.jsx)(o.J9,{initialValues:{searchQuery:""},onSubmit:function(t){r(t.searchQuery)},children:(0,f.jsxs)(o.l0,{children:[(0,f.jsx)("button",{type:"submit",children:"SEARCH"}),(0,f.jsx)(o.gN,{id:"searchQuery",name:"searchQuery"})]})})},h=n(791),l=n(87);function d(){var t,r=(0,h.useState)([]),n=(0,u.Z)(r,2),a=n[0],o=n[1],d=(0,h.useState)(!1),v=(0,u.Z)(d,2),m=v[0],x=v[1],w=(0,h.useState)(null),b=(0,u.Z)(w,2),g=b[0],y=b[1],Z=(0,l.lr)(),j=(0,u.Z)(Z,2),k=j[0],S=j[1],_=null!==(t=k.get("query"))&&void 0!==t?t:"";return(0,h.useEffect)((function(){function t(){return(t=(0,e.Z)(c().mark((function t(){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,""===_.trim()){t.next=7;break}return x(!0),t.next=5,(0,s.Hq)(_);case 5:r=t.sent,o(r);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),y(t.t0);case 12:return t.prev=12,x(!1),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[0,9,12,15]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[_]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(p,{onSubmit:function(t){S({query:t})}}),m?(0,f.jsx)("div",{children:"LOADING"}):g?(0,f.jsxs)("div",{children:[(0,f.jsxs)("b",{children:[":","("]}),"Something went wrong"," "]}):(0,f.jsx)(i.O,{movies:a})]})}}}]);
//# sourceMappingURL=331.d90d35c3.chunk.js.map